$(".message a").click(function(){$("form").animate({height:"toggle",opacity:"toggle"},"slow")}),console.log("Welcome to harbingers of Devastation"),$(".register-form").on("submit",function(a){a.preventDefault();const t={username:a.target[0].value.toLowerCase(),password:a.target[1].value,email:a.target[2].value},{username:e,password:o}=t;$.ajax({url:"/api_register",method:"POST",data:t}).then(a=>{toastr.success(a.msg);const t={username:e,password:o};$.ajax({url:"/api_login",method:"POST",data:t}).then(a=>{toastr.success(a.msg),window.location.reload()},a=>{toastr.error("El usuario o la contraseña son incorrectos.")})},a=>{toastr.error("Error al crear el usuario, es posible que el usuario ya exista.")})}),$(".login-form").on("submit",function(a){a.preventDefault();const t={username:a.target[0].value.toLowerCase(),password:a.target[1].value};$.ajax({url:"/api_login",method:"POST",data:t}).then(a=>{toastr.success(a.msg),window.location.reload()},a=>{toastr.error("El usuario o la contraseña son incorrectos.")})}),$(".input-file").on("change",function(a){a.preventDefault();const t=$(this).parent().data("id");let e=new FormData,o=a.target.files[0];e.append("file",o);const r=`/user/${t}/modify/avatar`;axios.post(r,e).then(a=>{toastr.success("Avatar modificado correctamente"),window.location.reload()},a=>{toastr.error("Ha habido un problema al actualizar su avatar, intentelo de nuevo más tarde.")})}),$(".userDataModify").on("submit",function(a){a.preventDefault();const t=$(this).data("id"),e={name:a.target[0].value,description:a.target[1].value,website:a.target[2].value},o=`/user/${t}/modify/data`;$.ajax({url:o,method:"POST",data:e}).then(a=>{toastr.success(a.msg),window.location.reload()},a=>{toastr.error("Ha habido un problema al actualizar su información, es posible que el usuario ya esté en uso..")})}),$("#file").change(function(){var a=this.value.match(/([^\/\\]+)$/)[1];$("#file-upload-label").text("Subiendo... "+a)}),$(".link-discord").on("click",a=>{const t={token:a.target.id};$.ajax({url:"/api/discord/link",method:"POST",data:t}).then(a=>{toastr.success(a.msg),$("#root").text(a.msg)},a=>{toastr.error(a.msg),$("#root").text(a.msg)})}),$(".coment-form").on("submit",a=>{a.preventDefault();const t={article:a.target.id,title:a.target[0].value,body:a.target[1].value};$.ajax({url:"/api/coment/add",method:"POST",data:t}).then(a=>{toastr.success(a.msg),window.location.reload()},a=>{toastr.error(a.msg)})});